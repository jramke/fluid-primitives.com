<ui:prop name="name" type="string" />
<ui:prop name="type" type="string" optional="{true}" default="component" />

<f:variable name="additionalClass"></f:variable>

<f:variable name="icon">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-right-icon lucide-arrow-up-right size-4 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
        <path d="M7 7h10v10" />
        <path d="M7 17 17 7" />
    </svg>
</f:variable>

<f:switch expression="{type}">
    <f:case value="component">
        <f:variable name="items" value="{
            1: {link: 'https://github.com/jramke/fluid-primitives/tree/main/Resources/Private/Primitives/{name}', label: 'View Source', icon: icon},
            0: {link: 'https://zagjs.com/components/react/{context.nameLowerCaseDashed}', label: 'Zag.js Docs', icon: icon},
        }" />
        <f:variable name="additionalClass">mb-4</f:variable>
    </f:case>
    <f:case value="viewhelper">
        <f:variable name="items" value="{
            1: {link: 'https://github.com/jramke/fluid-primitives/tree/main/Classes/ViewHelpers/{name}.php', label: 'View Source', icon: 'â†—'},
        }" />
    </f:case>
</f:switch>

<div class="{ui:cn(value: 'flex items-center gap-2 {additionalClass}')}">
    <f:for each="{items}" as="item" iteration="i">
        <a href="{item.link}" target="_blank" rel="noreferrer" class="group not-prose outline-none inline-flex items-center justify-center border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-[color,box-shadow] overflow-hidden border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90 rounded-full">
            <span>{item.label}</span>
            <span class="sr-only">for {name} {type}</span>
            <span class="inline-block group-hover:translate-x-[1px] group-hover:-translate-y-[1px] transition-[translate,opacity] relative size-3 opacity-90 group-hover:opacity-100">{item.icon -> f:format.raw()}</span>
        </a>
    </f:for>
    </a>
</div>